let e={class:"xl-b_"},l={class:"xl-be"};import t from"../../lib/magix.js";import s from"../../lib/cron.js";import a from"./player.js";export default t.View.extend({tmpl:(t,s,a,i,r,n)=>{let c,h,o,d,m,{error:p,channels:_,channel:x}=t;if(m=[],p)m.push(s(0,p));else for(let e=_.length,t=0;t<e;t+=1){let e=_[t];o=[s("img",{loading:"lazy",class:"xl-bf",src:e.cover_small},1)],d=[s("div",l,o)],o=[s(0,e.name)],d.push(s("div",0,o)),h="xl-bc",x==e&&(h+=" xl-bd"),m.push(s("div",{"mx5-click":x!=e&&a+"\x1e_aU({channel:'"+n(r,e,"_."+t+".a")+"'})",class:h},d))}return c=[s("div",e,m)],s(a,0,c)},init(){let e=this.render.bind(this);s._s(e,1.2*24*60*60*1e3,!1,"_aS"),this.ondestroy=()=>{s._t(e)}},async render(){let e=t.mark(this,"_aH");try{let l=await a._aT();e()&&this.digest(l)}catch(l){e()&&this.digest({error:"\u83b7\u53d6\u5206\u7c7b\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"})}},"_aU<click>"(e){let{channel:l}=e.params;t.dispatch(this.root,"change",{channel:l}),this.digest({channel:l})}});