let t={class:"xl-bN"};import l from"../../lib/magix.js";import e from"../../lib/agent.js";import i from"../../os/ctrl.js";l.applyStyle("xl-q",".xl-bN{background:#ddd;color:#333;height:28px;line-height:28px;padding:0 26px;position:sticky;top:0}.xl-bO{cursor:pointer;float:left;padding:0 5px}.xl-bP{background:#fff}.xl-bQ{background:#fafafa;border-radius:4px;cursor:pointer;float:left;margin:8px;padding:3px 10px}.xl-bQ:hover{background:#e6e6e6}.xl-bR{box-sizing:border-box;height:100%;overflow:scroll;padding:10px}.xl-bS{background:#f5f5f5;font-size:16px;font-weight:700;padding:3px 10px}.xl-bT{cursor:pointer;height:30px;line-height:30px;padding:3px 30px}.xl-bT:hover{background:#fafafa}.xl-bU{filter:blur(10px)}.xl-bV{background:#000b;bottom:0;color:#fff;left:0;padding:10px;position:absolute;right:0;top:100%;transition:all .25s;word-break:break-all}.xl-bW{top:0}.xl-bX{cursor:pointer;height:30px;position:absolute;right:6px;top:6px;width:30px}.xl-bX:hover{opacity:.6}.xl-bY{height:100%;overflow:scroll}.xl-bZ{font-size:16px}");let o=/<h1\s+class="tcleft title">([\s\S]+?)<\/h1>\s*<table class='booklist'>([\S\s]+?)<\/table>/g,r=/\u300a([^\u300b]+)\u300b/,s=/<td class="time"><a href="([^"]+)" target="_blank">([\s\S]+?)<\/a><\/td>/g,a="https://www.92gushi.com/",p={icon:'<svg viewBox="0 0 1024 1024"><path fill="#ed6d00" d="M1012 262.3v-58.9h-32.5v616.8c-150.7 24.5-288.3 46.7-424.6 68.9.2.5 15.7 32.8 26 33l384.5-.1c16.8-.9 44.6-46.5 46.5-73.4V262.3z"/><path fill="#ed6d00" d="M684 128.8c-98.2 17.8-152.4 65.5-147.8 182.2l.1 540.2c189.9-73.2 388.8-57.7 388.8-57.7l-.3-53.3s.3-413.5.3-638.1c-88 9.2-165.5 13.1-241.1 26.7zM60.2 921.9l382.6.1c10.4-.3 25.9-33 25.9-33.1-136.3-22.1-272-44.3-422.7-68.9V203.5H12v643.3c.8 26.6 31.1 74.3 48.2 75.1zM468.7 889z"/><path fill="#ed6d00" d="M490.7 851.1l.1-540.2c4.7-116.7-49.7-164.4-147.8-182.2-75.6-13.6-153-17.4-241.1-26.8 0 224.5.3 638 .3 638l-.4 53.3c.1.2 199-15.3 388.9 57.9zm64.2 37.9v-.1z"/></svg>',appId:"story_detail",width:500,height:650,min:!0,close:!0,view:"~xl/plugins/story/detail"};export default l.View.extend({tmpl:(l,e,i,o,r,s,a)=>{let p,d,x,c,b=[],{error:n,books:h,selected:g}=l;if(n)b.push(e(0,n));else{let l,o;c=[];for(let t=h.length,r=0;r<t;r+=1){let t=h[r];t.id==g&&(p="",l=t.links,p+=" ",o=t.title),x=[e(0,t.title)],d="xl-bO",t.id==g&&(d+=" xl-bP"),c.push(e("div",{"mx5-click":t.id!=g&&i+"\x1e_bV({id:'"+a(t.id)+"'})",class:d},x))}b.push(e("div",t,c));for(let t=l.length,r=0;r<t;r+=1){let t=l[r];c=[e(0,t.text)],b.push(e("div",{class:"xl-bQ","mx5-click":i+"\x1e_bZ({link:'"+a(t.link)+"',title:'"+a(o)+"-"+a(t.text)+"'})"},c))}}return e(i,0,b)},async render(){try{if(l.mark(this,"_aH")()){let t=await(async()=>{let t=await e.request(a,864e5,!0,"gb2312"),i=[];return t.replace(o,((t,e,o)=>{let p="",d=[];return e.replace(r,((t,l)=>p=l)),o.replace(s,((t,l,e)=>(d.push({link:a+l,text:e}),t))),i.push({id:l.guid("b_"),title:p,links:d}),t})),i})();this.digest({selected:t[0].id,books:t})}}catch(t){this.digest({error:t})}},"_bV<click>"(t){let{id:l}=t.params;this.digest({selected:l})},"_bZ<click>"(t){let{link:l,title:e}=t.params,o={...p,data:l,title:e};i._C(this,o)}});